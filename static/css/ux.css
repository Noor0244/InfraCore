/* Minimal UX improvements for InfraCore - non-intrusive overrides */
:root {
    /* Light mode palette (default) */
    --bg-900: #f5f7fa;
    --bg-800: #ffffff;
    --surface: #ffffff;
    --card-bg: #ffffff;
    --card-border: #e5e7eb;
    --text-primary: #111827;
    --muted-gray: #6b7280;
    --accent-blue: #2563eb;
    --accent-green: #16a34a;
    --danger-red: #dc2626;
    --warn-amber: #e3a008;
    --input-bg: #ffffff;
    --input-border: #d1d5db;
}

.dark {
    /* Dark mode palette */
    --bg-900: #0b1220;
    --bg-800: #0f1724;
    --surface: #0f1724;
    --card-bg: #111827;
    --card-border: #172033;
    --text-primary: #ffffff;
    --muted-gray: #9ca3af;
    --accent-blue: #1e6fd8;
    --accent-green: #16a34a;
    --danger-red: #d64545;
    --warn-amber: #e3a008;
    --input-bg: #0b1220;
    --input-border: #1f2a36;
}

/* Links and interactive text: no purple, use white by default */
a, a:visited{color:var(--text-primary);text-decoration:none}
a:hover, a:focus{color:var(--accent-blue);text-decoration:underline}
.project-link{font-weight:700}

/* Dashboard tweaks: ensure KPI clarity and active project highlight */
.kpi-card,
.kpi-grid .kpi-card {
    color: var(--text-primary) !important;
}

.kpi-value {
    color: var(--text-primary);
    font-size: 26px;
}

.kpi-label {
    color: var(--muted-gray);
}

/* Active project box */
.card .active-project {
    border-left: 4px solid var(--accent-blue);
    padding-left: 12px;
}

/* Delayed items */
.status-DELAYED,
tr.status-DELAYED {
    background: color-mix(in srgb, var(--danger-red) 12%, transparent) !important;
    color: var(--text-primary);
    font-weight: 700;
}

.status-DELAYED .table-progress-bar {
    background: var(--danger-red);
}

/* Container improvements */
.container{padding:20px}
.card{background:var(--card-bg);border:1px solid var(--card-border);padding:18px;border-radius:8px}
.page-title{margin-bottom:16px;font-size:22px;color:var(--text-primary);font-weight:700}

/* Sectioning */
.form-section {
    padding: 14px 0;
    margin-bottom: 18px;
    border-left: 4px solid var(--card-border);
    padding-left: 14px;
}

.section-title {
    font-size: 16px;
    margin: 8px 0;
    color: var(--text-primary);
    font-weight: 700;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 14px;
}

/* Labels and helpers */
label {
    display: block;
    font-weight: 600;
    margin-bottom: 6px;
    color: var(--text-primary);
}

label .required {
    color: #dc2626;
    margin-left: 6px;
    font-weight: 700;
}

.dark label .required {
    color: #ef5350;
}

.required {
    color: #dc2626;
    font-weight: 700;
}

.dark .required {
    color: #ef5350;
}

.helper {
    display: block;
    font-size: 12px;
    color: var(--muted-gray);
    margin-top: 6px;
}

.help-text {
    font-size: 12px;
    color: var(--muted-gray);
    margin-top: 6px;
}

/* Inputs larger and touch-friendly */
input[type="text"],
input[type="number"],
input[type="date"],
select,
textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid var(--input-border);
    border-radius: 6px;
    font-size: 14px;
    background: var(--input-bg);
    color: var(--text-primary);
}

input:focus,
select:focus,
textarea:focus {
    outline: none;
    border-color: var(--accent-blue);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
}

.dark input:focus,
.dark select:focus,
.dark textarea:focus {
    box-shadow: 0 0 0 3px rgba(30, 111, 216, 0.2);
}

::placeholder {
    color: var(--muted-gray);
    opacity: 0.7;
}

select:disabled,
input:disabled,
textarea:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* Action buttons */
.btn-primary {
    background: var(--accent-blue);
    color: #ffffff;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: all 0.2s ease;
}

.btn-primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.btn-secondary {
    background: #e5e7eb;
    color: #111827;
    padding: 9px 14px;
    border-radius: 6px;
    border: 1px solid #d1d5db;
    cursor: pointer;
    transition: all 0.2s ease;
}

.dark .btn-secondary {
    background: #374151;
    color: #ffffff;
    border-color: #4b5563;
}

.btn-secondary:hover {
    opacity: 0.8;
    transform: translateY(-1px);
}

.btn-warning {
    background: var(--warn-amber);
    color: var(--text-primary);
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
}

.btn-danger {
    background: var(--danger-red);
    color: var(--text-primary);
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
}

.btn-muted {
    background: #94a3af;
    color: var(--text-primary);
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
}

.dark .btn-muted {
    background: #475569;
}

/* Action color semantics for Manage Projects */
.action-view {
    background: var(--accent-blue);
    color: #ffffff;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.action-view:hover {
    opacity: 0.9;
}

.action-edit {
    background: #9ca3af;
    color: #ffffff;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.dark .action-edit {
    background: #6b7280;
}

.action-edit:hover {
    opacity: 0.9;
}

.action-archive {
    background: var(--warn-amber);
    color: #111827;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.action-archive:hover {
    opacity: 0.9;
}

.action-delete {
    background: var(--danger-red);
    color: #ffffff;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.action-delete:hover {
    opacity: 0.9;
}

.btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 9px 14px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease;
    background: var(--btn);
    color: #ffffff;
    font-weight: 600;
}

/* Table tweaks */
.table {
    width: 100%;
    border-collapse: collapse;
    background: var(--card-bg);
}

.table th,
.table td {
    padding: 12px;
    border-bottom: 1px solid var(--card-border);
    text-align: left;
    color: var(--text-primary);
}

.table thead th {
    font-weight: 700;
    color: var(--text-primary);
    background: color-mix(in srgb, var(--card-bg) 88%, black 12%);
}

.dark .table thead th {
    background: color-mix(in srgb, var(--card-bg) 88%, white 12%);
}

/* Badges */
.badge {
    padding: 4px 8px;
    border-radius: 6px;
    font-size: 12px;
    color: var(--text-primary);
    background: var(--card-bg);
    border: 1px solid var(--card-border);
}

.badge-info {
    background: color-mix(in srgb, var(--accent-blue) 15%, transparent);
    color: var(--accent-blue);
    border: 1px solid color-mix(in srgb, var(--accent-blue) 30%, transparent);
}

/* Smooth reveal for conditional sections */
#road_type_wrap {
    transition: all 220ms ease;
    overflow: hidden;
}

.hidden-collapsed {
    max-height: 0;
    padding: 0;
    margin: 0;
    opacity: 0;
}

.visible-expanded {
    max-height: 600px;
    opacity: 1;
    padding-top: 10px;
    margin-top: 8px;
}

/* Progress bar (dashboard) - minimal */
.progress {
    background: var(--bg-900);
    border-radius: 8px;
    height: 12px;
    overflow: hidden;
    border: 1px solid var(--card-border);
}

.progress > i {
    display: block;
    height: 100%;
    background: var(--accent-blue);
}

/* Confirm dialogs fallback spacing */
form {
    margin: 0;
}

/* Project creation specific helpers (selectors/styles only) */
.project-helper {
    font-size: 12px;
    color: var(--muted-gray);
    margin-top: 6px;
}

.placeholder-example {
    font-size: 13px;
    color: var(--muted-gray);
    margin-top: 4px;
}

/* Confirm dialog */
.confirm-dialog {
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    padding: 18px;
    border-radius: 8px;
    color: var(--text-primary);
    max-width: 520px;
}

.confirm-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-top: 12px;
}

@media (prefers-reduced-motion: reduce){
    #road_type_wrap{transition:none}
}
